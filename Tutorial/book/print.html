<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>SuperSnake Tutorial</title>
        
        <meta name="robots" content="noindex" />
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div id="sidebar-scrollbox" class="sidebar-scrollbox">
                <ol class="chapter"><li class="expanded "><a href="intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="expanded "><a href="core_game.html"><strong aria-hidden="true">2.</strong> Core Game</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">SuperSnake Tutorial</h1>

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#introduction" id="introduction">Introduction</a></h1>
<p>The goal of this tutorial series is not to teach you how to make a game in amethyst, but instead how to take a game you 
designed and make it ready to release. This tutorial is meant to bridge the gap between the Ping tutorial and making a 
game. I will be covering things like,</p>
<ul>
<li>Ui (and Ui Prefabs)</li>
<li>Adding Multiple States</li>
<li>Loading Screen</li>
<li>Handling Settings</li>
<li>Saving a game to a file</li>
<li>Difficulty Levels</li>
<li>Language Localization</li>
</ul>
<p>To this end, I have made a simple snake game and the first chapter will briefly discuss the workings of the game. Which 
takes us to the next section.</p>
<h1><a class="header" href="#core-game" id="core-game">Core Game</a></h1>
<p><img src="images/CoreGameScreenshot.png" alt="screenshot" /></p>
<p>In case everyone doesn't know, the mechanics of the game snake consist of:</p>
<ul>
<li>A snake that in controlled by the four directional keys (buttons will be added later)</li>
<li>The snakes head moves around the field followed by the snakes body.</li>
<li>If the snake hits the edge of the map or it's own tail it grows</li>
<li>The map has food scattered randomly.</li>
<li>If the snake hits the food, it grows longer and a new food is randomly placed. </li>
</ul>
<p>The core game code can be found <a href="https://github.com/mrhatman/SuperSnake/tree/Core-Game">here</a>!</p>
<h2><a class="header" href="#basics-of-implementation" id="basics-of-implementation">Basics of Implementation</a></h2>
<h3><a class="header" href="#audio" id="audio">Audio</a></h3>
<p>The audio system is almost identical to the Pong example.</p>
<h3><a class="header" href="#direction--directionchangesystem" id="direction--directionchangesystem">Direction &amp; DirectionChangeSystem</a></h3>
<p>This enum stores the 4 directions the snake can be moving.</p>
<p>This system changes the current direction of the snake based on direction keys</p>
<pre><code>input.key_is_down(VirtualKeyCode::Up) 
</code></pre>
<p>unless the direction is opposite of the previous movement direction.</p>
<h3><a class="header" href="#food" id="food">Food</a></h3>
<p>This struct contains a set of the food pellets. A HashSet is used for performance reasons.</p>
<p>Whenever the snakes head moves, we can use the .contains() function of the set to determine if
the set contains that point. The helper function add_random_pellet() can be used to insert new food unless food already 
exists there or it's part of the snake.</p>
<h3><a class="header" href="#movesystem" id="movesystem">MoveSystem</a></h3>
<p>This system uses the Time Resource so it only moves the system each MOVEMENT_PERIOD.</p>
<p>The system pushes to the front a new snake head in the direction in the direction of snake.direction. If the snake would
go off the map or intersect with itself, transition the GameState to GameOver. If the snakes head intersects with a 
food pellet, remove the food pellet and add a random one. 
Unless the snake ate a pellet, pop the tail of the snake off, moving it along.</p>
<h3><a class="header" href="#snake" id="snake">Snake</a></h3>
<p>The Snake struct contains the current direction of travel, a queue of past directions, and a queue of past points.</p>
<h3><a class="header" href="#tile" id="tile">Tile</a></h3>
<p>This trait implementation defines of to draw the tile map. 
Layer 0 is the background so it's a constant grid. Layer 1 contains the snake and food. The snake's
direction queue is used to determine what part to draw. </p>
<h3><a class="header" href="#ui" id="ui">UI</a></h3>
<p>Contains the Entities for the Big and Little Test that come up on the screen.</p>
<h3><a class="header" href="#primary-state" id="primary-state">Primary State</a></h3>
<p>The primary game state. It loads the files, handles the game state, and takes some basic inputs.</p>
<p>The GameState is the base state of the game.</p>
<ul>
<li>Waiting to start: Waiting to start the game. Transitions to Playing when the Spacebar is pressed.</li>
<li>Playing: Playing the game. The direction system and movement system only run in this state.</li>
<li>Paused: Pressing P pauses the game and spacebar resumes.</li>
<li>GameOver: Game is over. Transitions in the movement state.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
